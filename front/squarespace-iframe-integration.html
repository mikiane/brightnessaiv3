<!-- 
=================================================================
  CODE √Ä COPIER DANS SQUARESPACE (Bloc Code)
  Auto-resize iframe pour Brightness AI Chat
=================================================================
-->

<!-- L'iframe qui contient le chat -->
<iframe
  id="ba-avatar"
  src="https://dev.brightness-agency.com/avatar/?index=bi_adaptability3"
  style="
    width: 100%;
    max-width: 900px;
    height: 700px;
    border: 0;
    border-radius: 12px;
    box-shadow: 0 6px 24px rgba(0,0,0,.15);
    transition: height 0.3s ease;
    display: block;
    margin: 0;
  "
  loading="lazy"
  allow="clipboard-write"
></iframe>

<!-- Script d'auto-redimensionnement -->
<script>
(function(){
  'use strict';
  
  console.log('üü¢ Brightness iframe auto-resize activ√©');
  
  const iframe = document.getElementById('ba-avatar');
  
  if (!iframe) {
    console.error('‚ùå Iframe #ba-avatar non trouv√©e');
    return;
  }
  
  // √âcouter les messages de l'iframe
  window.addEventListener('message', function(event) {
    // V√©rifier l'origine pour la s√©curit√©
    if (event.origin !== 'https://dev.brightness-agency.com') {
      return;
    }
    
    // V√©rifier que c'est un message de resize
    if (event.data && event.data.type === 'brightnessResize') {
      const newHeight = event.data.height;
      
      // Limiter la hauteur max pour √©viter les probl√®mes
      const maxHeight = 2000;
      const finalHeight = Math.min(newHeight, maxHeight);
      
      // Appliquer la nouvelle hauteur
      iframe.style.height = finalHeight + 'px';
      
      console.log('‚úÖ Iframe redimensionn√©e:', finalHeight + 'px');
    }
  });
  
  console.log('üëÇ √âcoute des messages activ√©e');
})();
</script>

<!-- 
=================================================================
  NOTES D'UTILISATION
=================================================================

1. Copiez tout ce code dans un bloc "Code" de Squarespace
2. Le chat se redimensionnera automatiquement √† chaque nouveau message
3. La hauteur initiale est de 600px, puis s'adapte au contenu
4. Le scroll se fait automatiquement pour garder la zone de saisie visible

Pour changer l'index du chat, modifiez : ?index=bi_adaptability3

=================================================================
-->

